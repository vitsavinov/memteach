!function(e){var t={};function r(s){if(t[s])return t[s].exports;var l=t[s]={i:s,l:!1,exports:{}};return e[s].call(l.exports,l,l.exports,r),l.l=!0,l.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)r.d(s,l,function(t){return e[t]}.bind(null,l));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);class s{constructor(e){this._element=e}cardShow(e){e.classList.remove("hide")}cardHide(e){e.classList.add("hide")}cardDrop(e){for(;e.lastChild.classList.length>0;)e.removeChild(e.lastChild)}on(e,t,r){e.addEventListener(t,r)}trigger(e,t){let r=new CustomEvent(t,{detail:e});e.dispatchEvent(r)}}class l extends s{constructor(){super(),this._cardsRegistry=[],this.counter=36,this.clicks=0,this.startFlag=!1,this.stopFlag=!1,this.clickCounter=document.querySelector('[data-component="counter"]'),this.clickCounter.innerText="Clicks: "+this.clicks.toString(),this.logName=document.querySelector('[data-component="login-name"]'),this.logPass=document.querySelector('[data-component="login-password"]'),this.regName=document.querySelector('[data-component="register-name"]'),this.regEmail=document.querySelector('[data-component="register-email"]'),this.regCountry=document.querySelector('[data-component="register-country"]'),this.regPass1=document.querySelector('[data-component="register-password1"]'),this.regPass2=document.querySelector('[data-component="register-password2"]')}cardCheck(e,t){if(this.startFlag||(this.startFlag=!0),'<img src="./img/card-empty.jpg">'!==e.innerHTML)if(this.stopFlag||(this.clicks++,this.clickCounter.innerText="Clicks: "+this.clicks.toString()),0===this._cardsRegistry.length)this._cardsRegistry.push(e),this.cardShow(e.lastChild);else if(1===this._cardsRegistry.length){if(this._cardsRegistry[0]!==e&&(this._cardsRegistry.push(e),this.cardShow(e.lastChild),t[this._cardsRegistry[0].id].id===t[this._cardsRegistry[1].id].id)){let e=this._cardsRegistry[0],t=this._cardsRegistry[1];this._cardsRegistry.length=0,setTimeout(()=>{this.cardDrop(e),this.cardDrop(t),this.counter-=2,0===this.counter&&(this.stopFlag=!0)},200)}}else 2===this._cardsRegistry.length&&(this.cardHide(this._cardsRegistry[0].lastChild),this.cardHide(this._cardsRegistry[1].lastChild),this._cardsRegistry.length=0,this.cardShow(e.lastChild),this._cardsRegistry.push(e))}openLoginForm(e,t){t.querySelector('[data-component="counter"]').style.display="none",t.querySelector('[data-component="auth-buttons"]').style.display="none",t.querySelector('[data-component="login-form"]').style.display="inline-block"}openRegisterForm(e,t){t.querySelector('[data-component="counter"]').style.display="none",t.querySelector('[data-component="auth-buttons"]').style.display="none",t.querySelector('[data-component="register-form"]').style.display="inline-block"}closeLoginForm(e,t){console.log(""),console.log("Login form was forced"),console.log("Name: ",this.logName.value),console.log("Password: ",this.logPass.value),t.querySelector('[data-component="login-form"]').style.display="none",t.querySelector('[data-component="counter"]').style.display="inline-block",t.querySelector('[data-component="auth-buttons"]').style.display="inline-block"}closeRegisterForm(e,t){console.log("Register form was forced"),console.log("Name: ",this.regName.value),console.log("Email: ",this.regEmail.value),console.log("Country: ",this.regCountry.value),console.log("Password 1: ",this.regPass1.value),console.log("Password 2: ",this.regPass2.value),t.querySelector('[data-component="register-form"]').style.display="none",t.querySelector('[data-component="counter"]').style.display="inline-block",t.querySelector('[data-component="auth-buttons"]').style.display="inline-block"}}var o={get:e=>new Promise((function(t,r){let s=new XMLHttpRequest;s.open("GET",e,!0),s.onload=()=>{if(200==s.status){let e=JSON.parse(s.responseText);t(e)}else r(Error(s.statusText))},s.onerror=function(){r(Error(s.statusText))},s.send()}))};new class extends s{constructor({element:e}){super(e),this._element=e,this._cardslist=[],this._layout={"cell-1":{},"cell-2":{},"cell-3":{},"cell-4":{},"cell-5":{},"cell-6":{},"cell-7":{},"cell-8":{},"cell-9":{},"cell-10":{},"cell-11":{},"cell-12":{},"cell-13":{},"cell-14":{},"cell-15":{},"cell-16":{},"cell-17":{},"cell-18":{},"cell-19":{},"cell-20":{},"cell-21":{},"cell-22":{},"cell-23":{},"cell-24":{},"cell-25":{},"cell-26":{},"cell-27":{},"cell-28":{},"cell-29":{},"cell-30":{},"cell-31":{},"cell-32":{},"cell-33":{},"cell-34":{},"cell-35":{},"cell-36":{}},this._cardservice=new l,o.get("./data/cards.json").then(e=>{this._cardslist=e,this._shuffle(this._layout,this._cardslist),this._fillTable(),this._bindAuthButtons()},e=>{console.log(e)})}_getRandomInRange(e,t){return Math.floor(Math.random()*(t-e+1))+e}_shuffle(e,t){let r=[],s=[];for(let t in e)r.push(t);t.forEach(e=>{s.push(e)});let l=r.length;for(;l;){let t=s.pop(),o=0,n="";o=this._getRandomInRange(0,l-1),n=r[o],e[n]=t,r.splice(o,1),l=r.length,o=this._getRandomInRange(0,l-1),n=r[o],e[n]=t,r.splice(o,1),l=r.length}}_fillTable(){let e="",t={};for(let r in this._layout)e=`<img class="card-face hide" src="${this._layout[r].imagePath}">`,t=this._element.querySelector("#"+r),t.innerHTML+=e,this.on(t,"click",e=>{this._cardservice.cardCheck(e.currentTarget,this._layout)})}_bindAuthButtons(){var e=this._element.querySelector("#btnLogin");this.on(e,"click",e=>{this._cardservice.openLoginForm(e.currentTarget,this._element)});var t=this._element.querySelector("#btnRegister");this.on(t,"click",e=>{this._cardservice.openRegisterForm(e.currentTarget,this._element)});var r=this._element.querySelector("#btnEnterLogin");this.on(r,"click",e=>{this._cardservice.closeLoginForm(e.currentTarget,this._element)});var s=this._element.querySelector("#btnEnterRegister");this.on(s,"click",e=>{this._cardservice.closeRegisterForm(e.currentTarget,this._element)})}}({element:document.querySelector('[data-component="card-table"]')})}]);